<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="mobile-web-app-capable" content="yes">
    <title>å“åº”å¼è®¾è®¡æµ‹è¯• - æƒ…ç»ªå¯è§†åŒ–</title>
    <link rel="stylesheet" href="./assets/css/index.css">
    <style>
        .test-info {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            z-index: 10000;
            max-width: 300px;
        }
        
        .breakpoint-indicator {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            margin-left: 5px;
            font-weight: bold;
        }
        
        .breakpoint-desktop { background: #4CAF50; }
        .breakpoint-tablet { background: #FF9800; }
        .breakpoint-mobile { background: #2196F3; }
        .breakpoint-small { background: #9C27B0; }
        
        .resize-handle {
            position: fixed;
            right: 0;
            top: 0;
            bottom: 0;
            width: 20px;
            background: linear-gradient(90deg, transparent, rgba(0,0,0,0.1));
            cursor: ew-resize;
            z-index: 10001;
        }
        
        @media (max-width: 1200px) {
            .test-info::after { content: "æ¡Œé¢å¸ƒå±€"; .breakpoint-indicator; }
        }
        
        @media (max-width: 991px) {
            .test-info::after { content: "å¹³æ¿å¸ƒå±€"; }
        }
        
        @media (max-width: 767px) {
            .test-info::after { content: "æ‰‹æœºå¸ƒå±€"; }
        }
        
        @media (max-width: 575px) {
            .test-info::after { content: "å°å±æ‰‹æœº"; }
        }
        
        @media (max-width: 375px) {
            .test-info::after { content: "è¶…å°å±"; }
        }
    </style>
</head>
<body>
    <div class="test-info">
        <div>å±å¹•å°ºå¯¸: <span id="screenSize"></span></div>
        <div>è®¾å¤‡åƒç´ æ¯”: <span id="devicePixelRatio"></span></div>
        <div>è§¦æ‘¸æ”¯æŒ: <span id="touchSupport"></span></div>
        <div>å½“å‰æ–­ç‚¹: <span id="breakpoint" class="breakpoint-indicator"></span></div>
        <div>æ–¹å‘: <span id="orientation"></span></div>
    </div>
    
    <div class="resize-handle" title="æ‹–åŠ¨è°ƒæ•´çª—å£å¤§å°æµ‹è¯•å“åº”å¼æ•ˆæœ"></div>
    
    <div class="container">
        <header>
            <h1>å“åº”å¼è®¾è®¡æµ‹è¯•é¡µé¢</h1>
            <p class="subtitle">è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•å’ŒéªŒè¯æƒ…ç»ªå¯è§†åŒ–é¡¹ç›®çš„å“åº”å¼è®¾è®¡æ•ˆæœã€‚è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æˆ–åœ¨ä¸åŒè®¾å¤‡ä¸ŠæŸ¥çœ‹ä»¥æµ‹è¯•ä¸åŒæ–­ç‚¹çš„æ˜¾ç¤ºæ•ˆæœã€‚</p>
        </header>
        
        <div class="main-content">
            <div class="visualization-section">
                <h2 class="section-title">å›¾è¡¨åŒºåŸŸæµ‹è¯•</h2>
                <div class="chart-container" id="chart" style="background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%, transparent 75%, #f0f0f0 75%, #f0f0f0), linear-gradient(45deg, #f0f0f0 25%, transparent 25%, transparent 75%, #f0f0f0 75%, #f0f0f0); background-size: 20px 20px; background-position: 0 0, 10px 10px; display: flex; align-items: center; justify-content: center; color: #666; font-size: 18px;">
                    å›¾è¡¨å®¹å™¨åŒºåŸŸ
                    <br>
                    <small>å½“å‰é«˜åº¦: <span id="chartHeight">600px</span></small>
                </div>
                
                <div class="instructions">
                    <h3>æµ‹è¯•è¯´æ˜ï¼š</h3>
                    <ul>
                        <li><strong>æ¡Œé¢ç«¯</strong>ï¼šä¾§è¾¹æ å¸ƒå±€ï¼Œå®Œæ•´åŠŸèƒ½</li>
                        <li><strong>å¹³æ¿ç«¯</strong>ï¼šå‚ç›´å¸ƒå±€ï¼Œè§¦æ‘¸ä¼˜åŒ–</li>
                        <li><strong>æ‰‹æœºç«¯</strong>ï¼šå•åˆ—å¸ƒå±€ï¼ŒæŒ‰é’®å…¨å®½</li>
                        <li><strong>å°å±ç«¯</strong>ï¼šç²¾ç®€å¸ƒå±€ï¼Œæœ€å°å°ºå¯¸</li>
                    </ul>
                    <p>ğŸ‘† è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æŸ¥çœ‹å¸ƒå±€å˜åŒ–</p>
                </div>
            </div>
            
            <div class="controls-section">
                <div class="controls">
                    <h2 class="section-title">æŒ‰é’®å¸ƒå±€æµ‹è¯•</h2>
                    
                    <div class="control-group">
                        <label>ç±»åˆ«ç­›é€‰å™¨ (å“åº”å¼å¸ƒå±€)ï¼š</label>
                        <div class="category-filter" id="categoryFilter">
                            <button class="category-btn active">å¼€å¿ƒ</button>
                            <button class="category-btn">æ‚²ä¼¤</button>
                            <button class="category-btn">æ„¤æ€’</button>
                            <button class="category-btn">ææƒ§</button>
                            <button class="category-btn">æƒŠè®¶</button>
                            <button class="category-btn">åŒæ¶</button>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label>å¼ºåº¦ç­›é€‰å™¨ (å“åº”å¼å¸ƒå±€)ï¼š</label>
                        <div class="level-filter">
                            <button class="level-btn active">å…¨éƒ¨</button>
                            <button class="level-btn">è½»å¾®</button>
                            <button class="level-btn">ä¸­ç­‰</button>
                            <button class="level-btn">å¼ºçƒˆ</button>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label>å›¾ä¾‹æµ‹è¯•ï¼š</label>
                        <div class="legend" id="legend">
                            <div class="legend-item">
                                <span class="legend-color" style="background: #FF6B6B;"></span>
                                <span>å¼€å¿ƒæƒ…ç»ª</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background: #4ECDC4;"></span>
                                <span>æ‚²ä¼¤æƒ…ç»ª</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background: #45B7D1;"></span>
                                <span>æ„¤æ€’æƒ…ç»ª</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background: #96CEB4;"></span>
                                <span>ææƒ§æƒ…ç»ª</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="controls">
                    <h2 class="section-title">æ–‡å­—å¤§å°æµ‹è¯•</h2>
                    <p>H1æ ‡é¢˜å¤§å°ï¼š<span id="h1Size">--</span></p>
                    <p>å‰¯æ ‡é¢˜å¤§å°ï¼š<span id="subtitleSize">--</span></p>
                    <p>æ®µè½æ–‡å­—å¤§å°ï¼š<span id="paragraphSize">--</span></p>
                    <p>æŒ‰é’®æ–‡å­—å¤§å°ï¼š<span id="buttonSize">--</span></p>
                </div>
                
                <div class="controls">
                    <h2 class="section-title">è§¦æ‘¸æµ‹è¯•</h2>
                    <p>è§¦æ‘¸äº‹ä»¶ï¼š<span id="touchEvents">ç­‰å¾…è§¦æ‘¸...</span></p>
                    <p>æŒ‰é’®å°ºå¯¸ï¼š<span id="buttonSize">--</span></p>
                    <p>æœ€å°è§¦æ‘¸ç›®æ ‡ï¼š<span id="touchTarget">44Ã—44px</span></p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>å“åº”å¼è®¾è®¡æµ‹è¯•é¡µé¢ | æ”¯æŒå¤šç§è®¾å¤‡æ–­ç‚¹ | è§¦æ‘¸å‹å¥½è®¾è®¡</p>
        </footer>
    </div>

    <script>
        // æ›´æ–°å±å¹•ä¿¡æ¯
        function updateScreenInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const dpr = window.devicePixelRatio || 1;
            const touchSupport = 'ontouchstart' in window;
            
            document.getElementById('screenSize').textContent = `${width}Ã—${height}`;
            document.getElementById('devicePixelRatio').textContent = dpr;
            document.getElementById('touchSupport').textContent = touchSupport ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ';
            document.getElementById('orientation').textContent = width > height ? 'æ¨ªå±' : 'ç«–å±';
            
            // æ›´æ–°æ–­ç‚¹æŒ‡ç¤º
            const breakpoint = document.getElementById('breakpoint');
            let breakpointText = '';
            let breakpointClass = '';
            
            if (width <= 375) {
                breakpointText = 'è¶…å°å±';
                breakpointClass = 'breakpoint-small';
            } else if (width <= 575) {
                breakpointText = 'å°å±æ‰‹æœº';
                breakpointClass = 'breakpoint-mobile';
            } else if (width <= 767) {
                breakpointText = 'æ‰‹æœº';
                breakpointClass = 'breakpoint-mobile';
            } else if (width <= 991) {
                breakpointText = 'å¹³æ¿';
                breakpointClass = 'breakpoint-tablet';
            } else {
                breakpointText = 'æ¡Œé¢';
                breakpointClass = 'breakpoint-desktop';
            }
            
            breakpoint.textContent = breakpointText;
            breakpoint.className = `breakpoint-indicator ${breakpointClass}`;
            
            // æ›´æ–°å›¾è¡¨å®¹å™¨é«˜åº¦
            const chartContainer = document.querySelector('.chart-container');
            const computedHeight = window.getComputedStyle(chartContainer).height;
            document.getElementById('chartHeight').textContent = computedHeight;
        }
        
        // æ›´æ–°å­—ä½“å¤§å°ä¿¡æ¯
        function updateFontSizes() {
            const h1 = document.querySelector('h1');
            const subtitle = document.querySelector('.subtitle');
            const paragraph = document.querySelector('.instructions p');
            const button = document.querySelector('.category-btn');
            
            const h1Computed = window.getComputedStyle(h1).fontSize;
            const subtitleComputed = window.getComputedStyle(subtitle).fontSize;
            const paragraphComputed = window.getComputedStyle(paragraph).fontSize;
            const buttonComputed = window.getComputedStyle(button).fontSize;
            
            document.getElementById('h1Size').textContent = h1Computed;
            document.getElementById('subtitleSize').textContent = subtitleComputed;
            document.getElementById('paragraphSize').textContent = paragraphComputed;
            document.getElementById('buttonSize').textContent = buttonComputed;
        }
        
        // æ·»åŠ è§¦æ‘¸äº‹ä»¶ç›‘å¬
        function setupTouchEvents() {
            let touchCount = 0;
            
            document.addEventListener('touchstart', function(e) {
                touchCount++;
                document.getElementById('touchEvents').textContent = `è§¦æ‘¸å¼€å§‹ (${touchCount}æ¬¡)`;
            });
            
            document.addEventListener('touchend', function(e) {
                document.getElementById('touchEvents').textContent = `è§¦æ‘¸ç»“æŸ (${touchCount}æ¬¡)`;
            });
            
            document.addEventListener('touchmove', function(e) {
                document.getElementById('touchEvents').textContent = `è§¦æ‘¸ç§»åŠ¨ä¸­...`;
            });
        }
        
        // æµ‹è¯•æŒ‰é’®å°ºå¯¸
        function testButtonSizes() {
            const buttons = document.querySelectorAll('.category-btn, .level-btn');
            buttons.forEach(button => {
                const rect = button.getBoundingClientRect();
                const width = Math.round(rect.width);
                const height = Math.round(rect.height);
                
                button.addEventListener('click', function() {
                    console.log(`æŒ‰é’®å°ºå¯¸: ${width}Ã—${height}px`);
                });
            });
        }
        
        // çª—å£å¤§å°è°ƒæ•´æ—¶çš„ä¼˜åŒ–
        let resizeTimeout;
        function handleResize() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                updateScreenInfo();
                updateFontSizes();
            }, 100);
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateScreenInfo();
            updateFontSizes();
            setupTouchEvents();
            testButtonSizes();
            
            window.addEventListener('resize', handleResize);
            window.addEventListener('orientationchange', function() {
                setTimeout(updateScreenInfo, 100);
            });
            
            // æ·»åŠ çª—å£å¤§å°è°ƒæ•´åŠŸèƒ½
            const resizeHandle = document.querySelector('.resize-handle');
            let isResizing = false;
            let startX = 0;
            let startWidth = 0;
            
            resizeHandle.addEventListener('mousedown', function(e) {
                isResizing = true;
                startX = e.clientX;
                startWidth = window.innerWidth;
                document.body.style.cursor = 'ew-resize';
                e.preventDefault();
            });
            
            document.addEventListener('mousemove', function(e) {
                if (!isResizing) return;
                
                const diff = e.clientX - startX;
                const newWidth = Math.max(300, startWidth - diff);
                
                // æ¨¡æ‹Ÿçª—å£å¤§å°è°ƒæ•´ï¼ˆä»…ç”¨äºæ¼”ç¤ºï¼‰
                console.log(`æ¨¡æ‹Ÿçª—å£å®½åº¦: ${newWidth}px`);
            });
            
            document.addEventListener('mouseup', function() {
                isResizing = false;
                document.body.style.cursor = 'default';
            });
        });
    </script>
</body>
</html>